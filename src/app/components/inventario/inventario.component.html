<head>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<h1>Inventario</h1>
<div class="acciones">
  <button (click)="agregarFormulario()">
    <i class="fa-solid fa-plus" style="color: rgb(239, 187, 196); "></i>
  </button>
</div>

<!-- Formulario para agregar producto -->
<div *ngIf="agregar" class="centrar">
  <div class="formulario">
    <h2>Agregar Producto</h2>
    <input type="text" #nombre placeholder="Nombre del producto">
    <input type="number" #precio placeholder="Precio">
    <input type="number" #cantidad placeholder="Stock">
    <input type="text" #descripcion placeholder="Descripcion">
    <div>
      <label for="urlInput" class="centrar label"><i class="fa-solid fa-image" style="color: #802e37;"></i></label>
      <input id="urlInput" type="text" placeholder="URL de la imagen" [(ngModel)]="imagenUrl">
    </div>
    <button (click)="agregarProducto(nombre.value, precio.valueAsNumber, cantidad.valueAsNumber, imagenUrl, descripcion.value)">Agregar</button>
  </div>
</div>

<!-- Formulario para modificar producto -->
<div *ngIf="modificar && productoEditando" class="centrar">
  <div class="formulario">
    <h2>Modificar Producto</h2>
    <input type="text" placeholder="Nombre del producto" [(ngModel)]="productoEditando.nombre">
    <input type="number" placeholder="Precio" [(ngModel)]="productoEditando.precio">
    <input type="number" placeholder="Stock" [(ngModel)]="productoEditando.cantidad">
    <input type="text" placeholder="Descripcion" [(ngModel)]="productoEditando.descripcion">
    <div>
      <label for="urlInput" class="centrar label"><i class="fa-solid fa-image" style="color: #802e37;"></i></label>
      <input id="urlInput" type="text" placeholder="URL de la imagen" [(ngModel)]="productoEditando.imagen">
    </div>
    <button (click)="modificarProducto(productoEditando.nombre, productoEditando.precio, productoEditando.cantidad, productoEditando.imagen, productoEditando.descripcion)">Modificar</button>
  </div>
</div>

<!-- Lista de productos -->
<div *ngIf="productos.length > 0" class="productos">
  <div *ngFor="let producto of productos" class="producto">
    <img [src]="producto.imagen">
    <h3>{{producto.nombre}}</h3>
    <p>Precio: ${{producto.precio}}</p>
    <p>Cantidad: {{producto.cantidad}}</p>
    <p>Descripcion: {{producto.descripcion}}</p>
    <div class="acciones">
      <button (click)="eliminarProducto(producto.id)">
        <i class="fa-solid fa-trash" style="color: rgb(239, 187, 196);"></i>
      </button>
      <button (click)="editarProducto(producto.id, producto.nombre, producto.precio, producto.cantidad, producto.imagen, producto.descripcion)">
        <i class="fa-solid fa-pencil" style="color: rgb(239, 187, 196);"></i>
      </button>
    </div>
  </div>
</div>

<!-- BotÃ³n de volver -->
<div class="casa">
  <button (click)="volver()">
    <i class="fa-solid fa-house" style="color: #802e37;"></i>
  </button>
</div>
